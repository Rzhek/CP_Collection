x=input
for _ in[1]*int(x()):x(x());c={0:1};r=s=0;exec("for n in x().split():c[s]=c.get(s:=s+int(n),0);c[s]+=1;r+=c.get(s-47,0);");print(r)